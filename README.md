# 📊 تطبيق Streamlit لإدارة بيانات الكول سنتر

## 🎯 وصف المشروع

تطبيق ويب تفاعلي مبني باستخدام **Streamlit** لإدارة بيانات الكول سنتر والشكاوى وربطها مع **Google Sheets**. يوفر التطبيق واجهة احترافية متعددة التبويبات لإدارة:

- 👥 **العملاء** - إدارة قاعدة بيانات العملاء
- 📞 **الكول سنتر** - تتبع المكالمات والاستفسارات
- ❗ **الشكاوى** - إدارة شكاوى العملاء ومتابعتها
- 🚚 **البيك أب** - جدولة وتتبع خدمات التوصيل
- 📈 **التقارير** - إحصائيات وتقارير تفصيلية

## ✨ المميزات الرئيسية

### 🔗 التكامل مع Google Sheets
- سحب البيانات مباشرة من Google Sheets
- تحديث البيانات في الوقت الفعلي
- مزامنة تلقائية للتغييرات

### 📊 واجهة تفاعلية
- تصميم عصري وسهل الاستخدام
- رسوم بيانية تفاعلية باستخدام Plotly
- فلترة وبحث متقدم في البيانات

### 🛠️ إدارة شاملة
- إضافة وتعديل وحذف السجلات
- تصدير البيانات بصيغ متعددة
- تقارير مفصلة وإحصائيات

### 🎨 تخصيص العرض
- إعدادات قابلة للتخصيص
- تحديث تلقائي للبيانات
- واجهة متجاوبة مع جميع الأجهزة

## 🚀 التثبيت والإعداد

### 1. متطلبات النظام

```bash
Python 3.8+
pip (مدير حزم Python)
```

### 2. تثبيت المكتبات المطلوبة

```bash
pip install -r requirements.txt
```

### 3. إعداد Google Sheets API

#### أ. إنشاء مشروع في Google Cloud Console
1. اذهب إلى [Google Cloud Console](https://console.cloud.google.com/)
2. أنشئ مشروع جديد أو اختر مشروع موجود
3. فعّل Google Sheets API و Google Drive API

#### ب. إنشاء Service Account
1. اذهب إلى "IAM & Admin" > "Service Accounts"
2. أنشئ Service Account جديد
3. حمّل ملف المفاتيح بصيغة JSON

#### ج. إعداد Google Sheets
1. أنشئ جدول بيانات جديد في Google Sheets
2. شارك الجدول مع البريد الإلكتروني للـ Service Account
3. انسخ ID الجدول من الرابط

### 4. تشغيل التطبيق

```bash
streamlit run app.py
```

## 📁 هيكل المشروع

```
call-center-app/
├── app.py                 # الملف الرئيسي للتطبيق
├── requirements.txt       # المكتبات المطلوبة
├── credentials.json       # ملف اعتماد Google (لا يُرفع على GitHub)
├── README.md             # دليل المشروع
└── .gitignore            # ملفات مستثناة من Git
```

## 🔧 إعداد Google Sheets

### هيكل البيانات المطلوب

يجب أن يحتوي جدول Google Sheets على الأوراق التالية:

#### 1. ورقة "العملاء"
| رقم العميل | اسم العميل | رقم الهاتف | البريد الإلكتروني | المدينة | تاريخ التسجيل |
|------------|------------|------------|-------------------|--------|---------------|

#### 2. ورقة "الكول سنتر"
| رقم المكالمة | رقم العميل | نوع المكالمة | الموظف المسؤول | تاريخ المكالمة | وقت المكالمة | مدة المكالمة | الحالة |
|--------------|------------|-------------|----------------|---------------|-------------|-------------|--------|

#### 3. ورقة "الشكاوى"
| رقم الشكوى | رقم العميل | نوع الشكوى | الوصف | الأولوية | تاريخ الشكوى | الحالة | الموظف المسؤول |
|-------------|------------|-------------|--------|---------|-------------|--------|----------------|

#### 4. ورقة "البيك أب"
| رقم البيك أب | رقم العميل | العنوان | تاريخ البيك أب | الوقت المطلوب | نوع الخدمة | السائق | الحالة |
|-------------|------------|---------|-------------|-------------|------------|--------|--------|

## 🎮 كيفية الاستخدام

### 1. ربط التطبيق بـ Google Sheets
1. افتح التطبيق في المتصفح
2. في الشريط الجانبي، اضغط على "إعدادات Google Sheets"
3. أدخل معرف الجدول (Spreadsheet ID)
4. ارفع ملف الاعتماد JSON
5. اضغط على "اتصال بـ Google Sheets"

### 2. التنقل بين الأقسام
- **العملاء**: عرض وإدارة بيانات العملاء
- **الكول سنتر**: تتبع المكالمات والاستفسارات
- **الشكاوى**: إدارة ومتابعة شكاوى العملاء
- **البيك أب**: جدولة وتتبع خدمات التوصيل
- **التقارير**: عرض الإحصائيات والتقارير

### 3. إضافة بيانات جديدة
1. اختر القسم المطلوب
2. انقر على "إضافة سجل جديد"
3. املأ البيانات المطلوبة
4. اضغط على "إضافة"

### 4. فلترة البيانات
- استخدم أدوات الفلترة في كل قسم
- ابحث عن سجلات محددة
- رتب البيانات حسب الحاجة

## 📊 الرسوم البيانية والتقارير

### أنواع الرسوم المتاحة
- **الرسوم الدائرية**: توزيع البيانات حسب الفئات
- **الرسوم البيانية**: مقارنة الأرقام والإحصائيات
- **الرسوم الخطية**: تتبع الاتجاهات عبر الزمن

### التقارير المتاحة
- **التقرير الشامل**: نظرة عامة على جميع الأقسام
- **تقارير مخصصة**: تقارير لكل قسم على حدة
- **تصدير البيانات**: تحميل البيانات بصيغ مختلفة

## 🔒 الأمان والخصوصية

### حماية البيانات
- جميع البيانات مشفرة أثناء النقل
- الوصول محدود بصلاحيات Google Sheets
- لا يتم تخزين كلمات مرور محلياً

### أفضل الممارسات
- احتفظ بملف الاعتماد في مكان آمن
- لا تشارك ملف credentials.json
- راجع صلاحيات الوصول بانتظام

## 🚀 النشر على Streamlit Cloud

### 1. رفع المشروع على GitHub
```bash
git init
git add .
git commit -m "Initial commit"
git remote add origin [YOUR_REPO_URL]
git push -u origin main
```

### 2. النشر على Streamlit Cloud
1. اذهب إلى [Streamlit Cloud](https://streamlit.io/cloud)
2. اربط حساب GitHub الخاص بك
3. اختر المستودع والفرع
4. اضبط ملف الاعتماد في الأسرار (Secrets)
5. انشر التطبيق

### 3. إعداد الأسرار (Secrets)
في إعدادات Streamlit Cloud، أضف:
```toml
[google_sheets]
credentials = '''
{
  "type": "service_account",
  "project_id": "your-project-id",
  ...
}
'''
spreadsheet_id = "your-spreadsheet-id"
```

## 🛠️ التطوير والتخصيص

### إضافة ميزات جديدة
1. **إضافة تبويب جديد**:
```python
with st.tabs(['تبويب جديد']):
    st.header("المحتوى الجديد")
```

2. **إضافة رسم بياني**:
```python
import plotly.express as px
fig = px.bar(df, x='column1', y='column2')
st.plotly_chart(fig)
```

3. **إضافة فلتر جديد**:
```python
filter_value = st.selectbox("الفلتر", options)
filtered_df = df[df['column'] == filter_value]
```

### تخصيص التصميم
- عدّل ملف CSS في بداية app.py
- أضف ألوان وخطوط مخصصة
- حسّن تجربة المستخدم

## 🐛 استكشاف الأخطاء وإصلاحها

### مشاكل شائعة

#### خطأ الاتصال بـ Google Sheets
```
الحل: تأكد من صحة ملف الاعتماد ومعرف الجدول
```

#### خطأ في تحميل البيانات
```
الحل: تحقق من أسماء الأوراق والأعمدة في Google Sheets
```

#### بطء في التحميل
```
الحل: استخدم التخزين المؤقت (@st.cache_data)
```

### سجلات الأخطاء
راجع سجلات Streamlit Cloud للحصول على تفاصيل الأخطاء:
```
Menu > Manage app > Logs
```

## 📞 الدعم والمساعدة

### الموارد المفيدة
- [توثيق Streamlit](https://docs.streamlit.io/)
- [Google Sheets API](https://developers.google.com/sheets/api)
- [Plotly Documentation](https://plotly.com/python/)

### الإبلاغ عن الأخطاء
إذا واجهت أي مشاكل، يرجى:
1. توثيق الخطأ بالتفصيل
2. إرفاق لقطات شاشة
3. تسجيل الخطوات المتبعة

## 🔄 التحديثات المستقبلية

### الميزات المخططة
- [ ] إشعارات البريد الإلكتروني
- [ ] تصدير تقارير PDF
- [ ] لوحة تحكم متقدمة
- [ ] تكامل مع WhatsApp API
- [ ] تحليلات ذكية للبيانات

### تحسينات الأداء
- [ ] تحسين سرعة التحميل
- [ ] تحسين الاستجابة للأجهزة المحمولة
- [ ] إضافة التخزين المؤقت المتقدم

## 📄 الترخيص

هذا المشروع مفتوح المصدر ومتاح للاستخدام التجاري والشخصي.

## 🙏 الشكر والتقدير

شكر خاص لـ:
- فريق Streamlit لإنشاء هذه الأداة الرائعة
- Google لتوفير APIs مجانية
- مجتمع Python للمكتبات المفيدة

---

**تم تطوير هذا المشروع بـ ❤️ لمساعدة الشركات في إدارة بيانات الكول سنتر بكفاءة أكبر**
